!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){throw new Error(e)}r.r(t);var s={isDefined(e,t=""){void 0===e&&n(t)},isUndefined(e,t=""){void 0!==e&&n(t)},isTrue(e,t=""){!0!==e&&n(t)},isFalse(e,t=""){!1!==e&&n(t)}};var i=class{constructor(){this._list={}}addExtension(e,t){s.isUndefined(this._list[e],`extension '${e}' already exist`),this._list[e]=t}processElement(e){}};var o,E;!function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.DEFAULT=4]="DEFAULT"}(o||(o={})),function(e){e.NONE="",e.ACCESSOR="accessors",e.ANIMATION="animations",e.ASSET="asset",e.BUFFER="buffers",e.BUFFERVIEW="bufferViews",e.MESH="meshes",e.PRIMITIVE="primitives",e.NODE="nodes",e.NORMAL_TEXTURE_INFO="normalTextureInfo",e.OCCLUSION_TEXTURE_INFO="occlusionTextureInfo",e.CAMERA="cameras",e.SAMPLER="samplers",e.SCENE="scenes",e.SKIN="skins",e.IMAGE="images",e.TEXTURE="textures",e.TEXTURE_INFO="textureInfo",e.MATERIAL="materials",e.ANIMATION_SAMPLER="animationSamplers",e.ANIMATION_CHANNEL="animationChannels",e.PBR_METALLIC_ROUGHNESS="pbrMetallicRoughness"}(E||(E={}));E.BUFFERVIEW,E.ACCESSOR,E.MATERIAL,E.CAMERA,E.MESH,E.NODE,E.ANIMATION,E.SCENE,E.SKIN,E.BUFFER,E.ANIMATION_SAMPLER,E.ANIMATION_CHANNEL,E.PRIMITIVE;var a;!function(e){e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"}(a||(a={}));class u{constructor(e){this.gl=e,this._buffers={}}getBuffer(e,t){const r=e.uid;let n=this._buffers[r];if(void 0===n){const s=this.gl,i=new Uint8Array(e.buffer._bytes,e.getByteOffset(),e.byteLength);n=s.createBuffer(),s.bindBuffer(t,n),s.bufferData(t,i,s.STATIC_DRAW),s.bindBuffer(t,null),this._buffers[r]=n}return n}}const l={POSITION:{indexed:!1,attrib:"aPosition"},NORMAL:{indexed:!1,attrib:"aNormal"},TEXCOORD:{indexed:!0,attrib:"aTexCoord"},COLOR:{indexed:!0,attrib:"aColor"},JOINT:{indexed:!1,attrib:"aSkinJoint"},WEIGHT:{indexed:!1,attrib:"aSkinWeight"}};class f{getAttributeName(e){const[t,r=0]=e.split("_"),n=l[t];return void 0!==n?r>0||n.indexed?n.attrib+r:n.attrib:e}}r.d(t,"default",(function(){return A}));class A{constructor(){this._url=null,this._extensions=new i,this._byType=new Map([[E.BUFFER,[]],[E.BUFFERVIEW,[]],[E.ASSET,[]],[E.ACCESSOR,[]],[E.ANIMATION,[]],[E.ANIMATION_SAMPLER,[]],[E.ANIMATION_CHANNEL,[]],[E.MESH,[]],[E.PRIMITIVE,[]],[E.NODE,[]],[E.MATERIAL,[]],[E.CAMERA,[]],[E.SCENE,[]],[E.SKIN,[]],[E.TEXTURE,[]]]),this._elements=[],this.semantics=new f}allocateGl(e){this.bufferCache=new u(e);for(const t of this.meshes)t.allocateGl(e)}get buffers(){return this._getTypeHolder(E.BUFFER)}get bufferViews(){return this._getTypeHolder(E.BUFFERVIEW)}get accessors(){return this._getTypeHolder(E.ACCESSOR)}get animations(){return this._getTypeHolder(E.ANIMATION)}get meshes(){return this._getTypeHolder(E.MESH)}get nodes(){return this._getTypeHolder(E.NODE)}get materials(){return this._getTypeHolder(E.MATERIAL)}get cameras(){return this._getTypeHolder(E.CAMERA)}get skins(){return this._getTypeHolder(E.SKIN)}_getTypeHolder(e){return this._byType.get(e)}getAllElements(){return this._elements}addElement(e){const t=this._getTypeHolder(e.elementType);-1===t.indexOf(e)&&(t.push(e),this._elements.push(e))}addElements(e){for(var t of e)this.addElement(t)}getElement(e,t){return this._getTypeHolder(e)[t]}getElementByName(e,t){const r=this._getTypeHolder(e);for(var n of r)if(n.name===t)return n;return null}}}]);